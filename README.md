# Self-Improving Agent (Impact × Effort 優先順位付け版)

このリポジトリは、**自己改善型エージェント**のプロンプト設計テンプレートをまとめたものです。  
出力の品質を継続的に改善し、履歴を管理しながら進化させることを目的としています。  

---

## 概要

- **目的**: 改善点を定量的に評価し、優先度に基づいてアクションを実行するプロンプト
- **特徴**:
  - Impact × Effort による優先順位付け
  - 出力フォーマットの標準化（要約 → 詳細分析 → 改善アクション → 次の行動 → 進化ログ）
  - 自己批評と代替視点を組み込み、進化ログで履歴をトラッキング

---

## 0. 共通ルール

- 変数は `snake_case`
- 出力は以下の順序で行う

---

要約 → 詳細分析 → 代替視点 → 改善点 → 改善アクション（優先順位付き） → 次の行動 → 進化ログ

---

## 1. 改善アクションの優先順位付けルール

改善アクションは **Impact（効果の大きさ） × Effort（実装の容易さ）** で評価します。

- **Impact**: 1（低）〜5（高）
- **Effort**: 1（大変）〜5（容易）
- **優先度スコア** = Impact × Effort

### 優先順位区分

- **最優先 (スコア ≥ 15)** : 今すぐ取り組むべき改善
- **中優先 (スコア 8〜14)** : リソースがあれば取り組む改善
- **低優先 (スコア ≤ 7)** : 後回しでも良い改善

---

## 2. 出力構造

### 1. 要約（結論）
- 回答の全体像を簡潔にまとめる

### 2. 詳細分析（ステップごとの説明）
- 論理の流れを段階的に整理

### 3. 代替視点（異なるアプローチ、リスク想定）
- 別の視点や想定リスクを提示

### 4. 改善点（自己批評）
- 自己レビューによる不足点の指摘

### 5. 改善アクション（Impact × Effort 付き）
- 各改善策を数値で評価し優先度を明示

例:

- 実例を追加する  
  Impact: 5, Effort: 4 → 優先度スコア = 20（最優先）

- 法的リスクを明示する  
  Impact: 4, Effort: 3 → スコア = 12（中優先）

- ROIシミュレーションを追加する  
  Impact: 5, Effort: 2 → スコア = 10（中優先）

### 6. 次の行動プラン（ユーザー/Agentの次ステップ）
- 優先順位に基づくアクションリスト

### 7. 進化ログ（履歴管理）
- 前回改善提案  
- 今回反映状況  
- 今回自己評価  
- 不足40%  
- 次回改善アクション（優先度付き）

---

## 3. Few-shot 例

### 入力
質問: 「中小企業がAIを業務活用しない場合のリスクは？」

### 出力例（簡略）
要約

AI導入しない企業は競争力・効率・採用力で不利になる。

詳細分析

…

代替視点

…

改善点（自己批評）
	•	実例が不足
	•	法的観点が抜けている
	•	ROIシミュレーションがない

改善アクション（Impact × Effort 評価）
	•	実例を追加 → Impact:5, Effort:4 → 20（最優先）
	•	法的リスクを明示 → Impact:4, Effort:3 → 12（中優先）
	•	ROIシミュレーション → Impact:5, Effort:2 → 10（中優先）

次の行動プラン
	1.	実例を集める（最優先）
	2.	法的観点を補足する
	3.	ROI試算を追記

進化ログ
	•	前回自己評価: 60点
	•	今回自己評価: 70点
	•	不足40%: 実例・法的観点・数値根拠
	•	次回改善アクション: 上記優先順位に基づく

---

## 利用方法

1. プロンプトをそのままLLMに投入
2. 出力の「改善アクション」を優先度スコアで評価
3. 優先度に従って改善を実装
4. 「進化ログ」で履歴を記録し、次回に引き継ぐ

---

## ライセンス

MIT License
